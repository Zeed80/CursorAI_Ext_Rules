# Changelog

Все важные изменения в этом проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [0.3.0] - 2024-12-29

### Добавлено
- **Полностью автономная работа без CursorAI Background Agents**
  - Работа с локальными моделями (Ollama, LLM Studio) - $0 стоимость
  - Поддержка собственных API ключей (OpenAI, Anthropic, Google)
  - Опциональная интеграция с CursorAI только для конкретных задач
- **Swarm Orchestration System**
  - SwarmOrchestrator для координации множественных воркеров-агентов
  - AgentWorker - автономные агенты в бесконечном цикле
  - TaskQueue с приоритетами (immediate, high, medium, low)
  - MessageBus для peer-to-peer коммуникации
  - FileWatcher для мониторинга в реальном времени
  - HealthMonitor для автоматического перезапуска агентов
- **Hybrid Model Provider**
  - Интеллектуальный выбор моделей (локальные, облачные, CursorAI)
  - SmartModelSelector для оценки сложности задач
  - Автоматический fallback между провайдерами
  - Контроль месячного бюджета
- **Cost Optimization**
  - PromptCache для кэширования промптов (LRU)
  - RequestBatcher для батчинга запросов
  - CostMonitor для отслеживания расходов
  - Dashboard Panel для визуализации затрат
- **UI Improvements**
  - Context Menu Provider для создания задач из Explorer
  - Settings Panel с новой вкладкой "Автономный режим"
  - Dashboard Panel для статистики и мониторинга
  - Обновленный Status Bar с отображением автономного режима

### Исправлено
- **Критическое исправление**: SwarmOrchestrator теперь корректно находит локальных агентов
  - Добавлена проверка инициализации агентов перед созданием SwarmOrchestrator
  - Добавлено ожидание инициализации агентов (2 секунды) если они еще не готовы
  - Улучшены сообщения об ошибках с информацией о настройке агентов
- **TaskDeviationController**: Теперь работает без CursorAI Background Agents
  - Добавлена проверка настроек перед использованием CursorAPI
  - Автоматический fallback на простой парсинг если CursorAI недоступен
  - Graceful degradation - система работает даже без CursorAI
  - Убраны громкие ошибки в консоль, используется тихое логирование

### Улучшено
- **Документация**: Полная переработка README с акцентом на бесплатное использование
  - Позитивное начало с акцентом на $0 стоимость работы
  - Четкое разделение: бесплатное использование vs опциональная интеграция с CursorAI
  - Предупреждения только для опционального использования Background Agents
  - Добавлен быстрый старт за 3 шага
  - Улучшены инструкции по настройке локальных моделей
- **README структура**: Улучшена читаемость и позитивное восприятие
  - Первый раздел теперь про бесплатное использование
  - Предупреждения вынесены в отдельный опциональный раздел
  - Добавлены примеры конфигураций для разных сценариев
- **MCP Client**: Расширенные возможности
  - Расширенные Git операции (branch, merge, rebase, stash)
  - Интеграция с test runner
  - Интеграция с линтером

### Документация
- Обновлены оба README (английский и русский) с идентичным содержанием
- Добавлен раздел "Cost Comparison" с 3 сценариями использования ($0, $5-30, $20-50/месяц)
- Улучшен раздел Troubleshooting с решениями для новых компонентов
- Добавлены инструкции по настройке Ollama и других провайдеров
- Добавлен раздел "Architecture" с полным описанием новых компонентов

## [0.2.0] - 2024-12-29

### Добавлено
- **Система мозгового штурма с множественными моделями**
  - Генератор вариаций задач (`TaskVariationGenerator`) - создает различные формулировки одной задачи для разных агентов
  - Контроллер отклонения от задачи (`TaskDeviationController`) - проверяет соответствие решений исходной задаче
  - Менеджер ансамблевой доработки (`EnsembleRefinementManager`) - координация доработки решений несколькими моделями
  - Улучшенная консолидация решений с приоритизацией релевантных
  - Мониторинг соответствия решений исходной задаче в реальном времени

### Улучшено
- **BrainstormingManager**
  - Интеграция с генератором вариаций задач
  - Автоматическая генерация вариаций для каждого агента
  - Мониторинг соответствия решений исходной задаче
  - Улучшенная консолидация с фильтрацией по релевантности
  - Автоматическая доработка при обнаружении отклонений

- **SolutionEvaluator**
  - Добавлен критерий соответствия задаче (taskAlignment)
  - Интеграция с TaskDeviationController
  - Улучшенное объединение решений с приоритизацией релевантных
  - Фильтрация решений с низким соответствием при объединении

- **SelfLearningOrchestrator**
  - Использование вариаций задач в мозговом штурме
  - Мониторинг и корректировка отклонений
  - Ансамблевая доработка решений
  - Новые методы: `executeTaskWithVariations` и `monitorAndCorrect`

### Документация
- Добавлен раздел "Usage-based Pricing" в README с подробным объяснением требований CursorAI
- Описание решения проблем с Background Agents API
- Инструкции по настройке Usage-based pricing
- Объяснение ошибок OTLPExporterError

### Исправлено
- Исправлена ошибка компиляции в `ensemble-refinement-manager.ts` (task-alignment → taskAlignment)

## [0.1.0] - 2024-12-29

### Добавлено
- Автономное расширение для CursorAI с виртуальным пользователем
- Система самосовершенствования агентов
- Оркестратор для координации работы специализированных агентов
- Адаптивные правила, автоматически генерируемые под проект
- Интеграция с MCP Context7 и веб-поиском
- Современный UI с панелями статуса и аналитики
- Автоматический скрипт публикации на GitHub

### Изменено
- Исходная версия проекта

### Исправлено
- Исходная версия проекта
